html,
body,
#kc-page,
#kc-content,
#kc-content-wrapper {
    background: #ffffff !important;
    /* cor sólida */
    background-image: none !important;
    /* remove qualquer imagem */
}

:root {
    --font-sans: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Ubuntu, 'Helvetica Neue', Arial, 'Noto Sans', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif;
    --bg: #f0f2f5;
    --text: #333;
    --muted: #666;
    --border: #ccc;
    --btn: #6c757d;
    --btn-hover: #5a6268;
    --field-h: 42px;
    /* altura mais baixa */
    --field-r: 8px;
    --field-fs: 15px;
}

#kc-header,
#kc-header-wrapper {
    display: none !important;
}

#kc-header-wrapper {
    background: none !important;
    height: 0 !important;
    padding: 0 !important;
    margin: 0 !important;
}

html,
body,
#kc-content,
#kc-content-wrapper {
    font-family: var(--font-sans);
    background: var(--bg);
}

/* container/box como o seu */
.login-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    background: var(--bg);
    width: 45%;
    margin: 0 auto;
    border-radius: 15px;
}

.login-box {
    background: var(--bg);
    padding-bottom: 2rem;
    text-align: center;
}

/* títulos e subtítulo */
.login-box h1 {
    font-size: 2.5rem;
    font-weight: 700;
    color: var(--text);
}

.login-box .subtitle {
    color: var(--muted);
    margin-bottom: 2.5rem;
}

/* grupos/labels/inputs do KC “pintados” como os seus */
.form-group {
    margin-bottom: 1.5rem;
    text-align: left;
}

/* botão primário no seu cinza */
.btn-login,
#kc-login {
    width: 100%;
    border: none;
    border-radius: 8px !important;
    background-color: var(--btn) !important;
    color: #fff !important;
    font-size: 1rem;
    font-weight: 600;
    text-transform: uppercase;
    cursor: pointer;
    transition: background-color .3s ease;
}

.btn-login:hover,
#kc-login:hover {
    background-color: var(--btn-hover) !important;
}

.btn-login:disabled,
#kc-login:disabled {
    background-color: #ccc !important;
    cursor: not-allowed;
}

#kc-form-options .checkbox label {
    font-size: .9rem;
    color: var(--muted);
}

/* link de cadastro embaixo, igual ao seu */
.registration-link {
    text-align: center;
    margin-top: 1.5rem;
    font-size: 0.9rem;
    color: var(--muted);
}

.registration-link a {
    color: #44436d;
    font-weight: 600;
    text-decoration: none;
    transition: text-decoration .3s ease;
}

.registration-link a:hover {
    text-decoration: underline;
}

/* social section mantém o layout do KC, mas fica dentro da nossa paleta */
#kc-social-providers h2 {
    color: var(--text);
}

#kc-social-providers hr {
    border: 0;
    border-top: 1px solid #e3e6ea;
}

/* mensagens de erro próximas ao seu estilo */
.kc-feedback-text,
.kc-input-error,
#input-error {
    color: #b00020;
    font-size: .85rem;
    margin-top: .5rem;
}

/* tira excesso de espaçamentos padrão do KC para ficar mais “limpo” */
#kc-form,
#kc-form-wrapper {
    margin: 0;
    padding: 0;
}

#kc-content {
    padding: 0;
}

/* caixa um pouco mais estreita pra não “sobrar” */
.login-box {
    max-width: 440px;
}

/* inputs padrão – 100% da largura, altura menor */
#kc-form input[type],
#kc-register-form input[type],
#kc-form .pf-c-form-control,
#kc-register-form .pf-c-form-control {
    width: 100% !important;
    height: var(--field-h) !important;
    min-height: var(--field-h) !important;
    font-size: var(--field-fs) !important;
    padding: 0 0.9rem !important;
    border: 1px solid var(--border) !important;
    border-radius: var(--field-r) !important;
    box-sizing: border-box !important;
}

/* botão submit acompanha o novo tamanho */
#kc-form #kc-form-buttons *[type="submit"],
#kc-register-form #kc-form-buttons *[type="submit"] {
    height: var(--field-h) !important;
    border-radius: var(--field-r) !important;
    font-size: 1rem !important;
}

/* ==== ESCOPADO SÓ PARA A PÁGINA DE CADASTRO ==== */
:root{
  --field-h: 42px;
  --field-r: 8px;
  --field-fs: 15px;
  --border: #ccc;
}

/* Caixa do cadastro em 45% centralizada */
body.register .login-container{
  width:45% !important;
  margin:0 auto !important;
}

/* Forçar 1 coluna e largura total dos grupos */
body.register form#kc-register-form .pf-l-grid,
body.register form#kc-register-form .pf-l-grid__item{
  display:block !important;
  width:100% !important;
}

/* Todos os inputs "simples" com 100% (sem checkbox/radio) */
body.register form#kc-register-form input:not([type="checkbox"]):not([type="radio"]){
  width:100% !important;
  height:var(--field-h) !important;
  min-height:var(--field-h) !important;
  font-size:var(--field-fs) !important;
  padding:0 .9rem !important;
  border:1px solid var(--border) !important;
  border-radius:var(--field-r) !important;
  box-sizing:border-box !important;
  margin:0 !important;
}

/* ======= SENHA: fazer o CONTÊINER virar grid (input + olho) ======= */
/* Firefox/Chrome/Safari modernos suportam :has() */
body.register form#kc-register-form .pw-group{
  display:grid !important;
  grid-template-columns: 1fr var(--field-h) !important;
  width:100% !important;
  gap:0 !important;
  align-items:stretch !important;
}

/* Input de senha: não “empurrar” largura, grudar no botão */
body.register form#kc-register-form input#password,
body.register form#kc-register-form input#password-confirm{
  min-width:0 !important;                 /* evita overflow visual */
  border-right:0 !important;              /* junta com o botão */
  border-radius:var(--field-r) 0 0 var(--field-r) !important;
}

/* Botão “olho” com largura = altura para NÃO alargar o conjunto */
body.register form#kc-register-form button[aria-controls="password"],
body.register form#kc-register-form button[aria-controls="password-confirm"]{
  width:var(--field-h) !important;
  min-width:var(--field-h) !important;
  height:var(--field-h) !important;
  padding:0 !important;
  border:1px solid var(--border) !important;
  border-left:0 !important;               /* sem borda dupla */
  border-radius:0 var(--field-r) var(--field-r) 0 !important;
  background:#fff !important;
  display:inline-flex !important;
  align-items:center !important;
  justify-content:center !important;
  line-height:1 !important;
  box-sizing:border-box !important;
}

/* ===== Espaçamento entre « voltar ao login » e o botão Cadastrar ===== */
body.register form#kc-register-form #kc-form-options{
  margin-top:.75rem !important;
  margin-bottom:1rem !important;          /* dá respiro antes do botão */
}

/* Se por acaso #kc-form-options não existir, garante pelo link */
body.register form#kc-register-form a[href*="login"]{
  display:inline-block !important;
  margin-bottom:1rem !important;
}

body.register form#kc-register-form #kc-form-buttons{
  margin-top:.5rem !important;
}

/* ======== ESCOPADO APENAS PARA O CADASTRO ======== */

/* largura desejada somente no register */
.page-register {
  width: 45% !important;
  margin: 0 auto !important;
}

/* garante 1 coluna e 100% de largura nos grupos do register */
.page-register #kc-register-form .pf-l-grid,
.page-register #kc-register-form .pf-l-grid__item {
  display: block !important;
  width: 100% !important;
}

/* todos os inputs "simples" do register com 100% */
.page-register #kc-register-form input:not([type="checkbox"]):not([type="radio"]) {
  width: 100% !important;
  height: var(--field-h) !important;
  min-height: var(--field-h) !important;
  font-size: var(--field-fs) !important;
  padding: 0 .9rem !important;
  border: 1px solid var(--border) !important;
  border-radius: var(--field-r) !important;
  box-sizing: border-box !important;
  margin: 0 !important;
}

/* ===== SENHA/CONFIRMAÇÃO iguais aos demais ===== */
.page-register #kc-register-form .pw-group {
  display: grid !important;
  grid-template-columns: 1fr var(--field-h) !important; /* input + botão */
  width: 100% !important;
  gap: 0 !important;
  align-items: stretch !important;
  box-sizing: border-box !important;
}

/* input de senha não "empurra" largura, gruda no botão */
.page-register #kc-register-form .pw-group input {
  min-width: 0 !important;                       /* evita overflow/estouro */
  width: 100% !important;
  border-right: 0 !important;                     /* junta com o botão */
  border-radius: var(--field-r) 0 0 var(--field-r) !important;
}

/* botão "olho" com largura = altura (não aumenta o total) */
.page-register #kc-register-form .pw-group button[aria-controls="password"],
.page-register #kc-register-form .pw-group button[aria-controls="password-confirm"] {
  width: var(--field-h) !important;
  min-width: var(--field-h) !important;
  height: var(--field-h) !important;
  padding: 0 !important;
  border: 1px solid var(--border) !important;
  border-left: 0 !important;                      /* sem borda dupla */
  border-radius: 0 var(--field-r) var(--field-r) 0 !important;
  background: #fff !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  line-height: 1 !important;
  box-sizing: border-box !important;
}

/* respiro entre « voltar ao login » e Cadastrar */
.page-register #kc-register-form #kc-form-options {
  margin-top: .75rem !important;
  margin-bottom: 1rem !important;                 /* espaço antes do botão */
}
.page-register #kc-register-form #kc-form-buttons {
  margin-top: .5rem !important;
}

/* ====== APENAS CADASTRO ====== */

/* Wrapper do formulário em 45% continua igual */
.page-register {
  width: 45% !important;
  margin: 0 auto !important;
}

/* Campos “simples” do cadastro (igual aos demais) */
.page-register #kc-register-form input:not([type="checkbox"]):not([type="radio"]) {
  width: 100% !important;
  height: var(--field-h) !important;
  font-size: var(--field-fs) !important;
  padding: 0 .9rem !important;
  border: 1px solid var(--border) !important;
  border-radius: var(--field-r) !important;
  box-sizing: border-box !important;
}

/* === SENHA/CONFIRMAÇÃO: uma única borda no WRAPPER === */
.page-register #kc-register-form .pw-group {
  /* substitui grid/inline-flex do tema */
  display: flex !important;
  align-items: stretch !important;

  width: 100% !important;
  height: var(--field-h) !important;
  box-sizing: border-box !important;

  /* borda única no conjunto = mesma largura dos outros campos */
  border: 1px solid var(--border) !important;
  border-radius: var(--field-r) !important;
  overflow: hidden !important;      /* arredonda cantos sem sobrar */
  background: #fff !important;
}

/* input de senha: sem borda, ocupa todo o espaço restante */
.page-register #kc-register-form .pw-group input {
  flex: 1 1 auto !important;
  width: auto !important;
  min-width: 0 !important;
  height: 100% !important;
  border: 0 !important;             /* << remove a borda interna */
  padding: 0 .9rem !important;
  font-size: var(--field-fs) !important;
  box-sizing: border-box !important;
}

/* botão “olho”: divisor de 1px, sem borda externa adicional */
.page-register #kc-register-form .pw-group button[aria-controls="password"],
.page-register #kc-register-form .pw-group button[aria-controls="password-confirm"] {
  width: var(--field-h) !important;
  min-width: var(--field-h) !important;
  height: 100% !important;

  border: 0 !important;                 /* zera borda externa */
  border-left: 1px solid var(--border) !important;  /* só o divisor */
  border-radius: 0 !important;

  /* ===== APENAS CADASTRO ===== */

/* container do register (você já usa .page-register) */
.page-register { width:45% !important; margin:0 auto !important; }

/* --- senha/confirmar como UM campo só --- */
.page-register #kc-register-form .pw-group {
  position: relative !important;
  display: block !important;             /* anula grid/flex do tema */
  width: 100% !important;
  height: var(--field-h) !important;
  gap: 0 !important;
  column-gap: 0 !important;              /* PatternFly usa column-gap */
  box-sizing: border-box !important;
}

/* input ocupa 100% e reserva espaço pro botão */
.page-register #kc-register-form .pw-group > input {
  display: block !important;
  width: 100% !important;
  height: 100% !important;
  min-width: 0 !important;
  padding-right: calc(var(--field-h) + 8px) !important;  /* espaço pro olho */
  border: 1px solid var(--border) !important;
  border-radius: var(--field-r) !important;              /* cantos completos */
  box-sizing: border-box !important;
  margin: 0 !important;
}

/* botão do olho sobre o input, sem alterar largura total */
.page-register #kc-register-form .pw-group > button[aria-controls="password"],
.page-register #kc-register-form .pw-group > button[aria-controls="password-confirm"] {
  position: absolute !important;
  top: 50% !important;
  right: 6px !important;                 /* ajuste fino na borda direita */
  transform: translateY(-50%) !important;

  width: calc(var(--field-h) - 8px) !important;
  height: calc(var(--field-h) - 8px) !important;

  margin: 0 !important;                  /* remove margin-left do tema */
  padding: 0 !important;
  border: 0 !important;                  /* sem borda externa */
  background: transparent !important;    /* deixa a borda do input visível */
  box-shadow: none !important;

  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  line-height: 1 !important;
  cursor: pointer;
}

/* por via das dúvidas, zere qualquer gap/margem herdada do input-group */
.page-register #kc-register-form .kc-input-group,
.page-register #kc-register-form .pf-c-input-group {
  gap: 0 !important;
  column-gap: 0 !important;
}
.page-register #kc-register-form .pf-c-button.pf-m-control { 
  margin-left: 0 !important;             /* PF costuma colocar um espacinho aqui */
}

/* respiro entre « voltar ao login » e o botão CADASTRAR */
.page-register #kc-register-form #kc-form-options { margin-bottom: 1rem !important; }
.senha_do_caralho, .pw-group {
    padding-top: 500px;
    background-color: red;
}
.page-register #kc-register-form #kc-form-buttons { margin-top: 0 !important; }

/* ===== SÓ NA PÁGINA DE CADASTRO ===== */
.page-register .pw-wrap{
  position: relative;          /* vamos posicionar o “olho” dentro */
  width: 100%;
  height: var(--field-h);
}

.page-register .pw-wrap > input{
  width: 100%;
  height: 100%;
  padding-right: calc(var(--field-h) + 8px);  /* espaço pro botão */
  border: 1px solid var(--border);
  border-radius: var(--field-r);
  box-sizing: border-box;
}

/* botão “olho” por cima do input (não altera a largura total) */
.page-register .pw-wrap > button[aria-controls="password"],
.page-register .pw-wrap > button[aria-controls="password-confirm"]{
  position: absolute;
  top: 50%;
  right: 6px;
  transform: translateY(-50%);
  width: calc(var(--field-h) - 8px);
  height: calc(var(--field-h) - 8px);
  border: 0;                   /* a borda é a do input */
  background: transparent;
  box-shadow: none;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0;
}

/* zera qualquer layout herdado que possa interferir */
.page-register .pw-wrap.pf-c-input-group,
.page-register .pw-wrap.kc-input-group{ display:block !important; gap:0 !important; }